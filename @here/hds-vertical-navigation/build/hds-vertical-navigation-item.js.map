{"version":3,"file":"hds-vertical-navigation-item.js","sourceRoot":"","sources":["../src/hds-vertical-navigation-item.ts"],"names":[],"mappings":"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","sourcesContent":["import {customElement} from '@here/hds-base';\nimport {AccordionItem} from '@here/hds-accordion';\nimport '@here/hds-avatar';\nimport {IconStyle} from '@here/hds-icon';\nimport {html, nothing, PropertyValues} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {styles} from './hds-vertical-navigation-item.css.js';\nimport {VerticalNavigationSubList} from './hds-vertical-navigation-sub-list.js';\nimport {\n  VerticalNavigationMode,\n  VerticalNavigationSelectPayload,\n} from './hds-vertical-navigation.js';\n\n/**\n * @slot default Content for a `hds-vertical-navigation-sub-list` structure\n * @event {CustomEvent<{verticalNavItemId: string}>} select Fired when the item has been selected `VerticalNavigationSelectPayload`\n */\n@customElement('hds-vertical-navigation-item')\nexport class VerticalNavigationItem extends AccordionItem {\n  static itemIdCounter = 0;\n  @property({type: Boolean, attribute: false}) hasSubList = false;\n  @property({type: Boolean, attribute: false}) chevron = false;\n  @property({type: String, attribute: false}) navMode: VerticalNavigationMode = 'expanded';\n  @property({type: String, reflect: true, attribute: 'avatar-url'}) avatarUrl = '';\n  @property({type: String, reflect: true, attribute: 'avatar-name'}) avatarName = '';\n  @property({type: String, attribute: 'icon-style'}) iconStyle: IconStyle = 'solid';\n  @property({type: Boolean, attribute: true, reflect: true}) selected = false;\n  @query('slot') protected slotElement!: HTMLSlotElement;\n  @query('hds-avatar') private avatarElement?: HTMLElement;\n  @query('.headline') private titleElement?: HTMLElement;\n  @query('.headline-text') private titleContentElement?: HTMLElement;\n\n  static get styles(): any {\n    return [super.styles, styles];\n  }\n\n  protected firstUpdated(_changedProperties: PropertyValues) {\n    this.id = this.id ?? `hds-vertical-navigation-item-${++VerticalNavigationItem.itemIdCounter}`;\n    const slotContent = this.slotElement.assignedNodes({flatten: true});\n\n    this._setTitleNode(slotContent);\n    this._checkSubList(slotContent);\n    this._setRenderingPreference();\n  }\n\n  protected updated(_changedProperties: PropertyValues) {\n    super.updated(_changedProperties);\n    if (!this.disabled && this.selected && _changedProperties.has('selected')) {\n      this.dispatchEvent(\n        new CustomEvent<VerticalNavigationSelectPayload>('select', {\n          detail: {verticalNavItemId: this.id, verticalNavItemIndex: this.index},\n          bubbles: true,\n          composed: true,\n        })\n      );\n    }\n  }\n\n  protected renderIcon() {\n    if (!this.icon) return nothing;\n    return html`\n      <hds-icon\n        class=\"icon\"\n        name=\"${this.icon}\"\n        category=\"${this.iconCategory}\"\n        icon-style=\"${this.iconStyle}\"\n        size=\"24px\"\n      ></hds-icon>\n    `;\n  }\n\n  protected render() {\n    const classes = {\n      'has-sub-list': this.hasSubList,\n      'has-chevron': this.chevron,\n      'has-avatar': this.avatarUrl || this.avatarName,\n      'nav-expanded': this.navMode === 'expanded',\n      'nav-collapsed': this.navMode === 'collapsed',\n      selected: this.selected,\n    };\n\n    return html`\n      <div\n        class=\"-hds-vertical-navigation-item ${classMap(classes)}\"\n        aria-selected=\"${ifDefined(this.selected)}\"\n        tabindex=\"0\"\n        @click=\"${this._handleClick}\"\n      >\n        ${this._avatarTemplate()} ${super.render()}\n      </div>\n    `;\n  }\n\n  private _setTitleNode(slotContent) {\n    const titleNodeArr = slotContent.filter((e: Node) => e.nodeType === Node.ELEMENT_NODE);\n\n    if (titleNodeArr.length !== 0 && !(titleNodeArr[0] instanceof VerticalNavigationSubList)) {\n      this._appendTitleNode(titleNodeArr[0]);\n    }\n  }\n\n  private _checkSubList(slotContent) {\n    const subListContent = slotContent.filter(\n      (e: Node) => e instanceof VerticalNavigationSubList\n    ) as VerticalNavigationSubList[];\n\n    if (subListContent.length !== 0) {\n      this.hasSubList = true;\n    } else {\n      this.hasSubList = false;\n    }\n  }\n\n  private _appendTitleNode(titleNode) {\n    this.headline = '';\n    this.titleContentElement?.append(titleNode);\n  }\n\n  private _setRenderingPreference() {\n    if (this.avatarUrl || this.avatarName) {\n      this.chevron = false;\n      this.icon = '';\n      this.avatarElement && this.titleElement?.prepend(this.avatarElement);\n    } else if (this.icon) {\n      this.chevron = false;\n    }\n  }\n\n  private async _handleClick(e: Event) {\n    e.stopPropagation();\n    if (!this.disabled) this.selected = true;\n  }\n\n  private _avatarTemplate() {\n    if (this.avatarUrl || this.avatarName) {\n      return html` <hds-avatar\n        size=\"medium\"\n        name=\"${ifDefined(this.avatarName)}\"\n        image-url=\"${ifDefined(this.avatarUrl)}\"\n      ></hds-avatar>`;\n    }\n    return nothing;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'hds-vertical-navigation-item': VerticalNavigationItem;\n  }\n}\n"]}