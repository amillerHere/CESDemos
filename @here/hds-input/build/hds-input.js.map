{"version":3,"file":"hds-input.js","sourceRoot":"","sources":["../src/hds-input.ts"],"names":[],"mappings":"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","sourcesContent":["import {customElement, clamp} from '@here/hds-base';\nimport '@here/hds-icon';\nimport {IconCategory} from '@here/hds-iconlibrary';\nimport '@here/hds-label';\nimport {html, LitElement, nothing} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {styles} from './hds-input.css.js';\n\nexport type InputType = 'text' | 'search' | 'tel' | 'url' | 'email' | 'password' | 'number';\n\nexport type PasswordVisibility = 'disabled' | 'text' | 'masked';\nexport type InputSize = 'extra-small' | 'small' | 'medium';\nexport type InputChangePayload = {value: number | string};\nexport type InputInputPayload = {value: number | string};\n\n/**\n * @event {CustomEvent<{value: number | string}>} input Fired when the value of the element has changed `InputInputPayload`\n * @event {CustomEvent<{value: number | string}>} change Fired when an alteration to the element's value is committed by the user `InputChangePayload`\n * @event {CustomEvent<Input>} focus Fired when the element has focus\n * @event {CustomEvent<Input>} blur Fired when the element loses focus\n * @event {KeyboardEvent} keydown Fired when a key is pressed\n * @event {KeyboardEvent} keyup Fired when a key is released\n *\n */\n@customElement('hds-input')\nexport class Input extends LitElement {\n  static styles = styles;\n  static idCounter = 0;\n\n  static shadowRootOptions = {...LitElement.shadowRootOptions, delegatesFocus: true};\n  static formAssociated = true;\n  @property({type: String, reflect: true}) value: any = '';\n  @property({type: String}) type: InputType = 'text';\n  @property({type: String}) id = '';\n  @property({type: String}) name?;\n  @property({type: String}) placeholder?;\n  @property({type: String}) label?;\n  @property({type: String, attribute: 'secondary-label'}) secondaryLabel?;\n  @property({type: String}) size: InputSize = 'medium';\n  @property({type: String}) icon?;\n  @property({type: String}) pattern?;\n  @property({type: String, attribute: 'icon-category'}) iconCategory: IconCategory = 'core-ui';\n  @property({type: Boolean}) disabled = false;\n  @property({type: Boolean}) readonly = false;\n  @property({type: Boolean}) required = false;\n  @property({type: Number}) minlength = -1;\n  @property({type: Number}) maxlength = -1;\n  @property({type: Number}) min;\n  @property({type: Number}) max;\n  @property({type: Number}) step: number = 1;\n  @property({type: Boolean, attribute: 'char-counter'}) charCounter = false;\n  @property({type: Boolean}) error = false;\n  @property({type: String, attribute: 'error-text'}) errorText?;\n  @property({type: String, attribute: 'aria-labelledby'}) ariaLabelledby?;\n  @property({type: String, attribute: 'aria-label'}) ariaLabel = '';\n  @property({type: String, attribute: 'password-visibility'})\n  passwordVisibility: PasswordVisibility = 'masked';\n\n  @query('input') inputElement!: HTMLInputElement;\n  protected isTabbable: boolean | undefined;\n  private labelId: string | undefined;\n  private initialType: InputType | undefined;\n\n  protected get charCounterVisible(): boolean {\n    return this.charCounter && this.maxlength !== -1;\n  }\n\n  protected get errorTextVisible(): boolean {\n    return this.error && !!this.errorText;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    Input.idCounter++;\n    if (this.label) {\n      this.labelId = `hds-input-label-${Input.idCounter}`;\n    }\n    this.initialType = this.type;\n  }\n\n  clear() {\n    this.value = '';\n    this.setDefaultValues();\n    this.dispatchEvent(\n      new CustomEvent<InputChangePayload>('change', {detail: {value: this.value}})\n    );\n  }\n\n  focus() {\n    this.inputElement.focus();\n  }\n\n  blur() {\n    this.inputElement.blur();\n  }\n\n  private async _nativeFocus(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    await this.updateComplete;\n    this.dispatchEvent(new CustomEvent<Input>('focus', {detail: this}));\n  }\n\n  private async _nativeBlur(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    await this.updateComplete;\n    this.dispatchEvent(new CustomEvent<Input>('blur', {detail: this}));\n  }\n\n  togglePassword(): void {\n    if (this.disabled || !this.isPasswordVisibilityEnabled()) {\n      return;\n    }\n    this.passwordVisibility = this.passwordVisibility === 'masked' ? 'text' : 'masked';\n    this.type = this.passwordVisibility === 'masked' ? 'password' : 'text';\n  }\n\n  async stepUp(n?: number) {\n    if (this.type !== 'number' || this.disabled) return;\n    await this.changeByStep(n || this.step);\n  }\n\n  async stepDown(n?: number) {\n    if (this.type !== 'number' || this.disabled) return;\n    await this.changeByStep(-1 * (n || this.step));\n  }\n\n  setSelectionRange(start: number, end: number, direction?: 'forward' | 'backward' | 'none') {\n    this.inputElement!.setSelectionRange(start, end, direction);\n  }\n\n  setRangeText(replacement: string, start?: number, end?: number, selectionMode?: SelectionMode) {\n    if (start && end) {\n      this.inputElement.setRangeText(replacement, start, end, selectionMode);\n    } else {\n      this.inputElement.setRangeText(replacement);\n    }\n    this.value = this.inputElement.value;\n  }\n\n  checkValidity() {\n    return this.inputElement.checkValidity();\n  }\n\n  reportValidity() {\n    return this.inputElement.reportValidity();\n  }\n\n  select() {\n    this.inputElement.select();\n  }\n\n  setCustomValidity(error: string) {\n    this.inputElement.setCustomValidity(error);\n  }\n\n  protected firstUpdated() {\n    this.setDefaultValues();\n  }\n\n  protected render() {\n    const classes = {\n      disabled: this.disabled,\n      readonly: this.readonly,\n      required: this.required,\n      error: this.error,\n      '-icon': this.icon,\n    };\n\n    classes[`-${this.size}`] = true;\n\n    return html`\n      <div class=\"wrapper\">\n        ${this.renderLabel()}\n        <div class=\"input-wrapper ${classMap(classes)}\">\n          ${this.renderIcon()} ${this.renderInput()} ${this.renderIconControls()}\n        </div>\n        ${this.renderHelperText()}\n      </div>\n    `;\n  }\n\n  protected getAriaLabelledBy() {\n    if (this.label) return this.labelId;\n    if (this.ariaLabelledby) return this.ariaLabelledby;\n    return undefined;\n  }\n\n  protected renderInput() {\n    const classes = {\n      'input-width-with-icon':\n        this.type === 'number' || this.type === 'search' || this.isPasswordVisibilityEnabled(),\n    };\n\n    return html`\n      <input\n        .value=\"${this.value}\"\n        type=\"${this.type}\"\n        id=\"${ifDefined(this.id === '' ? undefined : this.id)}\"\n        name=\"${ifDefined(this.name === '' ? undefined : this.name)}\"\n        placeholder=\"${ifDefined(this.placeholder === '' ? undefined : this.placeholder)}\"\n        ?required=\"${this.required}\"\n        ?disabled=\"${this.disabled}\"\n        ?readonly=\"${this.readonly}\"\n        minlength=\"${ifDefined(this.minlength === -1 ? undefined : this.minlength)}\"\n        maxlength=\"${ifDefined(this.maxlength === -1 ? undefined : this.maxlength)}\"\n        min=\"${ifDefined(this.type !== 'number' ? undefined : this.min)}\"\n        max=\"${ifDefined(this.type !== 'number' ? undefined : this.max)}\"\n        step=\"${ifDefined(this.type !== 'number' ? undefined : this.step)}\"\n        pattern=\"${ifDefined(this.pattern)}\"\n        @change=\"${this.change}\"\n        @input=\"${this.input}\"\n        @focus=\"${this._nativeFocus}\"\n        @blur=\"${this._nativeBlur}\"\n        @keydown=\"${this.keyPress}\"\n        @keyup=\"${this.keyPress}\"\n        aria-labelledby=\"${ifDefined(this.getAriaLabelledBy())}\"\n        aria-label=\"${ifDefined(this.ariaLabel ? this.ariaLabel : undefined)}\"\n        class=\"${classMap(classes)}\"\n      />\n    `;\n  }\n\n  protected renderCharCounter() {\n    if (!this.charCounterVisible) {\n      return nothing;\n    }\n    const length = Math.min(String(this.value).length, this.maxlength);\n    return html` <span slot=\"secondary\">${length}/${this.maxlength}</span> `;\n  }\n\n  protected renderLabel() {\n    if (this.label || this.secondaryLabel) {\n      return html`\n        <hds-label id=\"${this.labelId}\"\n          >${this.label} <span slot=\"secondary\">${this.secondaryLabel}</span></hds-label\n        >\n      `;\n    }\n    return nothing;\n  }\n\n  protected renderIcon() {\n    if (!this.icon) {\n      return undefined;\n    }\n    return html` <hds-icon\n      name=\"${this.icon}\"\n      category=\"${this.iconCategory}\"\n      size=\"16px\"\n    ></hds-icon>`;\n  }\n\n  protected renderHelperText() {\n    if (!this.charCounterVisible && !this.errorTextVisible) {\n      return nothing;\n    }\n    return html`\n      <hds-label type=\"assistive\" variant=\"error\">\n        ${this.errorText} ${this.renderCharCounter()}\n      </hds-label>\n    `;\n  }\n\n  private async handleUp(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    await this.stepUp(this.step);\n  }\n\n  private async handleDown(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    await this.stepDown(this.step);\n  }\n\n  private async keyPress(evt: KeyboardEvent) {\n    evt.stopPropagation();\n    await this.updateComplete;\n    this.dispatchEvent(new KeyboardEvent(evt.type, evt));\n  }\n\n  private setDefaultValues() {\n    if (this.type === 'number') {\n      if ((!this.value && parseInt(this.value, 10) !== 0) || Number.isNaN(this.value)) {\n        this.value = undefined;\n      }\n      if (\n        this.min === undefined ||\n        Number.isNaN(this.min) ||\n        (this.min === 0 && this.getAttribute('min') === '')\n      ) {\n        this.min = -Infinity;\n      }\n      if (\n        this.max === undefined ||\n        Number.isNaN(this.max) ||\n        (this.max === 0 && this.getAttribute('max') === '')\n      ) {\n        this.max = Infinity;\n      }\n      this.value = clamp(parseInt(this.value, 10), this.min, this.max);\n    }\n  }\n\n  private async input(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    if (this.type === 'number') {\n      this.value = clamp(this.inputElement.valueAsNumber, this.min, this.max);\n    } else {\n      this.value = this.inputElement.value;\n    }\n    await this.updateComplete;\n    this.dispatchEvent(new CustomEvent<InputInputPayload>('input', {detail: {value: this.value}}));\n  }\n\n  private async changeByStep(step = 1) {\n    if ((!this.value && parseInt(this.value, 10) !== 0) || Number.isNaN(this.value)) {\n      this.value = 0;\n    }\n\n    this.value = clamp(parseInt(this.value, 10) + step, this.min, this.max);\n    await this.updateComplete;\n    this.dispatchEvent(\n      new CustomEvent<InputInputPayload>('input', {\n        detail: {value: this.value},\n      })\n    );\n    this.dispatchEvent(\n      new CustomEvent<InputChangePayload>('change', {detail: {value: this.value}})\n    );\n  }\n\n  private async change(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    this.value = this.inputElement.value;\n    if (this.type === 'number') {\n      this.value = clamp(parseInt(this.value, 10), this.min, this.max);\n      this.inputElement.value = this.value;\n    }\n    await this.updateComplete;\n    this.dispatchEvent(\n      new CustomEvent<InputChangePayload>('change', {detail: {value: this.value}})\n    );\n  }\n\n  private isPasswordVisibilityEnabled(): boolean {\n    return this.initialType === 'password' && this.passwordVisibility !== 'disabled';\n  }\n\n  private renderIconControls() {\n    if (this.type === 'number') {\n      const iconSize = this.size === 'extra-small' ? '8px' : '16px';\n      return html` <div class=\"input-controls\">\n        <div class=\"input-control up\" @click=\"${this.handleUp}\">\n          <hds-icon name=\"chevron-up\" size=\"${iconSize}\"></hds-icon>\n        </div>\n        <div class=\"input-control down\" @click=\"${this.handleDown}\">\n          <hds-icon name=\"chevron-down\" size=\"${iconSize}\"></hds-icon>\n        </div>\n      </div>`;\n    }\n    if (this.isPasswordVisibilityEnabled()) {\n      const iconName = this.passwordVisibility === 'masked' ? 'show' : 'hide';\n      return html` <div class=\"input-controls\">\n        <div class=\"input-control toggle-password\" @click=\"${this.togglePassword}\">\n          <hds-icon name=\"${iconName}\" size=\"16px\"></hds-icon>\n        </div>\n      </div>`;\n    }\n    if (this.type === 'search' && this.value?.length > 0) {\n      return html` <div class=\"input-controls\" @click=\"${this.clear}\">\n        <div class=\"input-control search\">\n          <hds-icon name=\"clear\" size=\"16px\"></hds-icon>\n        </div>\n      </div>`;\n    }\n    return nothing;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'hds-input': Input;\n  }\n}\n"]}