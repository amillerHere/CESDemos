
/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.777.7777/HERE_NOTICE
 */

H.util.eval("function gs(a,b,c,d,e){e&1&&hs(a,a,b,c,d,0);e&2&&hs(a,a,b,c,d,1);e&4&&hs(a,a,b,c,d,2);e&8&&hs(a,a,b,c,d,3)}\nfunction hs(a,b,c,d,e,f){var g=(c+1)*(c+1),h,k=4*d,l=c+1,m,n=[{r:0,Cl:0,ol:0,rg:0,next:null}];var q=1;var r=[\"r\",\"g\",\"b\",\"a\"][f];var v=2*c+1;for(var w,z;q<v;q++)n[q]={r:0,Cl:0,ol:0,rg:0,next:null},n[q-1].next=n[q];n[2*c].next=n[0];var J=4*(d-1);for(h=0;h<e;h++){var I=h*k;var Y=a[I+f];var ba=Y*l*(c+2)/2;v=Y*l;for(q=0;q<=c;q++)n[q][r]=Y;var Ja=0;for(q=1;q<=c;q++){var ka=q<d?I+4*q:I+J;ka=a[ka+f];ba+=ka*(l-q);Ja+=ka;n[c+q][r]=ka}ka=n[0];w=n[l];q=I;z=4*l;var kc=I+J;for(Y=0;Y<d;Y++){b[q+f]=ba/g;ba-=v;var yb=\nY+l<d?q+z:kc;yb=a[yb+f];Ja+=yb;ba+=Ja;v-=ka[r];v+=w[r];Ja-=w[r];ka[r]=yb;ka=ka.next;w=w.next;q+=4;if(!ba)for(;(m=4*(Y+l))<k&&0===a[I+f+m];)Y++,q+=4}}I=(e-1)*k;for(Y=0;Y<d;Y++){a=4*Y;h=b[a+f];ba=h*l*(c+2)/2;v=h*l;for(q=0;q<=c;q++)n[q][r]=h;Ja=0;for(q=1;q<=c;q++)ka=q<e?a+q*k:a+I,ka=b[ka+f],ba+=ka*(c-q+1),Ja+=ka,n[c+q][r]=ka;ka=n[0];w=n[l];q=a;kc=l*k;J=a+I;for(h=0;h<e;h++)if(b[q+f]=ba/g,ba-=v,yb=h+l<e?q+kc:J,yb=b[yb+f],Ja+=yb,ba+=Ja,v-=ka[r],v+=w[r],Ja-=w[r],ka[r]=yb,ka=ka.next,w=w.next,q+=k,!ba)for(;(m=\nh+l)<e&&0===b[m*k+f+a];)h++,q+=k}};function is(a,b,c){this.f=b=a>>b;this.j=Math.log(b)*Math.LOG2E;this.i=a=document.createElement(\"CANVAS\");this.a=a.getContext(\"2d\");this.b=a.width=a.height=3*b;var d=document.createElement(\"canvas\");a=c.a;var e=c.b;b=[];var f;d.width=256;d.height=1;d=d.getContext(\"2d\");for(g in e)e.hasOwnProperty(g)&&b.push({stop:parseFloat(g),value:e[g]});e=b.length;b.sort(this.m);0<b[0].stop&&b.unshift({stop:0,value:b[0].value});1>b[e-1].stop&&b.push({stop:1,value:b[e-1].value});e=b.length;var g=d.createLinearGradient(0,\n0,256,0);for(f=0;f<e;f++){if(!a&&k){var h=k.stop+(b[f].stop-k.stop)/2;g.addColorStop(h,k.value);g.addColorStop(h,b[f].value)}g.addColorStop(b[f].stop,b[f].value);var k=b[f]}d.fillStyle=g;d.fillRect(0,0,256,1);this.c=d.getImageData(0,0,256,1).data;this.g=c.a}is.prototype.m=function(a,b){return a.stop-b.stop};function js(a,b){this.a=a;this.size=b};function ks(a,b){var c,d=0;if(!Ea(a)||Va(a))throw new D(ks,0,a);for(c in a){var e=+c;d++;if(!(Ec(e)&&0<=e&&1>=e&&Bc(a[c])))throw new D(ks,0,a);}if(2>d)throw new D(ks,0,\"Specify at least 2 stops\");this.b=a;this.a=!!b}t(\"H.data.heatmap.Colors\",ks);var ls=new ks({0:\"#008\",\"0.2\":\"#0b0\",\"0.5\":\"#ff0\",\"0.7\":\"#f00\"},!0);ks.DEFAULT=ls;function ms(a,b,c){this.a=a=$d(a,0,30);this.u=b;this.i=c;this.m=[];this.b=[];do this.b[a]=[],this.m[a]=new ns;while(a--);b===os?(this.s=ps,this.j=qs):(this.s=rs,this.j=ss);this.c=1/0;this.f=-1/0}var ts=Math.log(.5);function qs(a){return this.g?Math.round((a-this.c)/this.g*255):127}function ss(a){return void 0===this.R?127:Math.round(255*Math.pow(a,this.R))}\nms.prototype.vb=function(a){var b,c;var d=a.value;void 0===d&&(d=1);d>this.f&&(this.f=d,this.g=this.f-this.c);d<this.c&&(this.c=d,this.g=this.f-this.c);var e=kj.Ic(a).scale(1073741823).floor();d=this.a;var f=e.x>>30-d;e=e.y>>30-d;for(c=this.s;-1<d;){this.b[d][e]||(this.b[d][e]=[]);(b=this.b[d][e][f])||(b=this.b[d][e][f]=new c(f,e,d));b.vb(a,d);var g=this.m[d];g.f>b.b&&(g.f=b.b);g.a<b.b&&(g.a=b.b);g.c>b.a&&(g.c=b.a);g.b<b.a&&(g.b=b.a);d--;f>>=1;e>>=1}};\nfunction us(a,b,c,d,e){var f=1<<b,g,h;d=Zd(d,f);f=0<=c&&c<f&&(g=a.b[b])&&(h=g[c])&&(f=h[d])||null;!f&&e&&0<=b&&(f=us(a,b-1,c>>1,d>>1,e));return f}function vs(a,b,c,d,e,f){for(var g,h=[];c<=d;c++)for(g=e;g<=f;g++)h.push(us(a,b,c,g,!1));return h}function ws(a,b){var c=0,d=0,e=us(a,0,0,0,!1),f;if(b.f)return b.c;b.z===a.a?b.c=b.a:(xs(a,b,function(g){var h=ys(a,g),k=4-h.length;if(g.z!==a.a){for(f=0;f<h.length;f++)c+=h[f].a,d++;c+=k*e.a;d+=k}}),b.c=c/d);b.f=!0;return b.c}\nfunction xs(a,b,c){b=[b];for(var d,e;0<b.length;)e=b.shift(),d=ys(a,e),c(e),b.push.apply(b,d)}function ys(a,b){var c=[],d,e,f;for(e=0;1>=e;e++)for(f=0;1>=f;f++)(d=us(a,b.z+1,2*b.x+e,2*b.y+f,!1))&&c.push(d);return c}ms.prototype.clear=function(){ms.call(this,this.a,this.u,this.i)};function rs(a,b,c){this.x=a;this.y=b;this.z=c;this.a=this.b=this.g=0;this.f=!1;this.c=0}rs.prototype.vb=function(a,b){this.g++;this.b+=a.value||1;this.a=this.b/Math.pow(2,2*(30-b))};\nfunction ps(a,b,c){this.x=a;this.y=b;this.z=c;this.a=this.b=this.g=0;this.f=!1;this.c=0}ps.prototype.vb=function(a){a=a.value;this.b+=void 0!==a?a:1;this.a=this.b/++this.g;this.f=!1};function ns(){this.f=this.c=1/0;this.a=this.b=-1/0};function zs(a){var b=a||{},c=+b.sampleDepth;a=+b.coarseness;var d=b.colors,e={min:b.min,max:b.max,engineType:b.engineType},f=b.tileSize,g=+b.dataMax;b.tileSize&&(e.tileSize=f);S.call(this,e);jk(this,b.opacity);this.B=\"value\"===b.type?os:As;this.sampleDepth_=Ec(c)?$d(Math.round(c),1,8):4;this.v=!!b.assumeValues;b=this.max;this.I=Ec(g)?$d(Math.round(g),this.min,b+this.sampleDepth_):b;a=Ec(a)?$d(Math.round(a),0,3):1;if(d&&!C(d,ks))throw new D(zs,0,\"colors\");this.b=new ms(b+this.sampleDepth_,this.B,this.I);\nthis.X=new is(this.tileSize,a,d||ls);this.u=A(this.u,this);this.i=A(this.i,this);this.N=new Kk(20,this.u)}u(zs,S);t(\"H.data.heatmap.Provider\",zs);zs.prototype.ac=function(a){jk(this,a)};zs.prototype.setOpacity=zs.prototype.ac;zs.prototype.Nc=function(){return this.f};zs.prototype.getOpacity=zs.prototype.Nc;zs.prototype.Me=gf;zs.prototype.providesRasters=zs.prototype.Me;\nzs.prototype.J=function(a,b,c,d,e){var f=this.v,g,h;if(us(this.b,0,0,0,!1)){if(!f){var k=vs(this.b,c,b-1,b+1,a-1,a+1);for(g=k.length;g--&&!f;)if(null!==k[g]){f=!0;break}}f&&(h=this.N.push([a,b,c,d,e],this.i))}f||d(null);return h||Bl};zs.prototype.requestInternal=zs.prototype.J;\nfunction Bs(a,b,c,d){var e=document.createElement(\"canvas\"),f=a.tileSize,g=e.getContext(\"2d\");e.width=e.height=f;var h=a.X;var k=a.b,l=a.v,m=a.B;var n=h.f;var q=h.a,r,v,w=m===As?2:1,z=w;a=Math.min(a.sampleDepth_+w,h.j);w=h.b;var J=k.a;if(l&&m===os){for(v=-1;1>=v;v++)for(l=-1;1>=l;l++){var I=(I=us(k,d,c+v,b+l,!0))?k.j(ws(k,I)):128;q.fillStyle=\"rgba(\"+I+\",128,0,1)\";q.fillRect((l+1)*n,(v+1)*n,n,n)}l=n-Math.floor(n/10);v=3;I=q.getImageData(0,0,w,w);gs(I.data,l,w,w,v);q.putImageData(I,0,0)}else q.fillStyle=\nl?\"#080\":\"#000\",q.fillRect(0,0,w,w);for(;z<=a&&d+z<=J;z++){l=n>>z;v=n-l;var Y=m===As?127+Math.floor(128/(1<<a-z)):255;I=(1<<z)+2;var ba=1<<z;var Ja=b<<z;var ka=c<<z;ba=vs(k,d+z,ka-1,ka+ba,Ja-1,Ja+ba);for(Ja=ba.length;Ja--;){ka=Ja%I;var kc=Ja/I<<0;if(r=ba[Ja])r=k.j(r.a),q.fillStyle=\"rgba(\"+r+\",\"+Y+\",0,1)\",q.fillRect(ka*l+v,kc*l+v,l,l)}I=q;Y=l;ba=v;Ja=n+2*l;l=n+2*l;ka=ka=3;kc=q.getImageData(ba,v,Ja,l);gs(kc.data,Y,Ja,l,ka);I.putImageData(kc,ba,v)}b=q.getImageData(0,0,w,w);c=h.c;d=h.g;k=b.data;a=0;for(w=\nk.length;a<w;a+=4)m=k[a],z=k[a+1],4===c.length&&(m=0),k[a]=c[4*m],k[a+1]=c[4*m+1],k[a+2]=c[4*m+2],k[a+3]=c[4*m+3]*(d?z/255:10>z?0:1);q.putImageData(b,0,0);h=new js(h.i,n);n=h.size;g.drawImage(h.a,n,n,n,n,0,0,f,f);return e}zs.prototype.u=function(a,b){a.done(Bs(this,b[0],b[1],b[2]))};zs.prototype.i=function(a,b,c){var d=a.data;a=d[3];d=d[4];c?d():a(b)};\nzs.prototype.Ki=function(a,b){var c;if(!Ac(a))throw new D(this.Ki,0,a);if(c=a.length){for(;c--;)this.b.vb(a[c]);a=this.b;var d;c=a.m;var e=a.a,f=0;if(a.u===As){var g=c[a.a].a;for(d=a.a;0<=d;d--)if(c[d].a===g)f=d;else break;g=c[0].a;for(d=0;d<=f;d++)if(g===c[d].a)e=d;else break;f>a.i&&(f=a.i);g=Math.round(e+(f-e)/2);a.R=ts/Math.log(c[g].b)}this.reload(!!b)}};zs.prototype.addData=zs.prototype.Ki;zs.prototype.clear=function(){this.b.clear();this.reload(!0)};zs.prototype.clear=zs.prototype.clear;var As=0,os=1;function Cs(){}t(\"H.data.utils.Dom\",Cs);Cs.prototype.Cd=function(a){return!!a&&/^\\s*(1|true)\\s*$/i.test(this.Ia(a))};Cs.prototype.getBoolean=Cs.prototype.Cd;Cs.prototype.Ia=function(a){var b;try{if(a.nodeType===Node.ATTRIBUTE_NODE)return a.value;var c=\"\";var d=0;var e=a.childNodes;for(b=e.length;d<b;d++)e[d].nodeType!==Node.COMMENT_NODE&&(c+=e[d].nodeValue.replace(/^\\s+|\\s+$/g,\"\"))}catch(f){}return c||\"\"};Cs.prototype.getString=Cs.prototype.Ia;\nCs.prototype.vf=function(a){return parseFloat(this.Ia(a))||0};Cs.prototype.getFloat=Cs.prototype.vf;Cs.prototype.qk=function(a){var b=a.split(/\\s+/),c=b.length,d=!(b&&1==c),e=d?1:3,f=[],g;d||(b=a.split(\",\"),c=b.length);for(g=0;g<c;g+=e)if(a=this.Lh(d?b[g]:g+3>b.length?null:b.slice(g,g+3)))f.push(a);else return[];return f};Cs.prototype.parseCoords=Cs.prototype.qk;\nCs.prototype.Lh=function(a){if(!a)return null;var b=a instanceof Array&&0<a.length&&4>a.length?a:a.split(\",\");a=parseFloat(b[0]);var c=parseFloat(b[1]);b=parseFloat(b[2]);return isNaN(c)||isNaN(a)?null:new mg(c,a,isNaN(b)?void 0:b)};Cs.prototype.parseCoord=Cs.prototype.Lh;Cs.prototype.tf=function(a){a=this.Ia(a);return/^[0-9a-fA-F]{8}$/.test(a)?\"#\"+a.substr(6,2)+a.substr(4,2)+a.substr(2,2)+a.substr(0,2):\"#000000ff\"};Cs.prototype.getColor=Cs.prototype.tf;function Ds(a){a=a.attributes;for(var b,c=a.length;c--;)switch(b=a[c],b.name){case \"x\":this.x=parseFloat(b.value);break;case \"y\":this.y=parseFloat(b.value);break;case \"xunits\":this.Pc=\"fraction\"===Cs.prototype.Ia(b);break;case \"yunits\":this.rc=\"fraction\"===Cs.prototype.Ia(b)}}t(\"H.data.kml.HotSpot\",Ds);function Es(a){var b=a.childNodes,c=new Cs;for(a=b.length;a--;){var d=b[a];switch(d.nodeName){case \"href\":this.href=c.Ia(d)}}}t(\"H.data.kml.Icon\",Es);function Fs(a){var b;if(a){a=a.childNodes;var c=a.length;for(b=new Cs;c--;){var d=a[c];switch(d.nodeName){case \"scale\":this.scale=b.vf(d);break;case \"Icon\":this.icon=d=new Es(d);break;case \"hotSpot\":this.a=d=new Ds(d)}}}}t(\"H.data.kml.IconStyle\",Fs);function Gs(){this.a={4:function(a){return[\"#\",a.charAt(1),a.charAt(1),a.charAt(2),a.charAt(2),a.charAt(3),a.charAt(3),\"ff\"].join(\"\")},5:function(a){return[\"#\",a.charAt(1),a.charAt(1),a.charAt(2),a.charAt(2),a.charAt(3),a.charAt(3),a.charAt(4),a.charAt(4)].join(\"\")},7:function(a){return a+\"ff\"},9:function(a){return a}};this.b={4:function(a){return[Hs(a.charAt(1)),Hs(a.charAt(2)),Hs(a.charAt(3)),255]},5:function(a){return[Hs(a.charAt(1)),Hs(a.charAt(2)),Hs(a.charAt(3)),Hs(a.charAt(4))]},7:function(a){a=\nparseInt(a.substring(1),16);return[a>>16&255,a>>8&255,a&255,255]},9:function(a){a=parseInt(a.substring(1),16);return[a>>24&255,a>>16&255,a>>8&255,a&255]}}}t(\"H.data.utils.ColorHelper\",Gs);function Hs(a){a=parseInt(a,16);return(a<<4)+a}function Is(a){return 16>a?\"0\"+Math.round(a).toString(16):Math.round(a).toString(16)}\nfunction Js(a,b,c){if(!/^(#|rgb).*/.test(b))return[0,0,0,255];c||(c=\"\",\"#\"===b.charAt(0)?c=a.a[b.length]?b:\"\":\"rgb\"===b.substr(0,3)&&(b=b.match(/\\d+(\\.\\d+)?/g),c=b.length,c=2<c&&5>c?[\"#\",Is(+b[0]),Is(+b[1]),Is(+b[2]),3<c?Is(255*+b[3]):\"ff\"].join(\"\"):\"\"),b=c);a=a.b[b.length](b);a[3]=Math.round(a[3]/255*100)/100;return a}\nGs.prototype.al=function(a,b){var c=\"\";if(!/^(#|rgb).*/.test(a)){c=\"\";var d;for(d=0;6>d;d++)c+=\"ABCDEF0123456789\".charAt(Math.floor(16*Math.random()));return c+\"ff\"}a=Js(this,a,b);for(b=0;4>b;b++)3>b?d=Math.floor(Math.random()*(a[b]+1)):d=255*a[b],c+=Is(d);return c};Gs.prototype.toRandomRGBA=Gs.prototype.al;function Ks(a){a=a.childNodes;for(var b,c=a.length,d=new Cs,e=new Gs;c--;)switch(b=a[c],b.nodeName){case \"color\":this.a=d.tf(b);break;case \"colorMode\":this.b=d.Ia(b)}\"random\"===this.b&&(this.a=\"#\"+e.al(this.a,!1))}t(\"H.data.kml.ColorStyle\",Ks);function Ls(a){var b=a.childNodes,c=b.length,d=new Cs;this.a=this.fill=!0;for(this.b=new Ks(a);c--;)switch(a=b[c],a.nodeName){case \"fill\":this.fill=d.Cd(a);break;case \"outline\":this.a=d.Cd(a)}}t(\"H.data.kml.PolyStyle\",Ls);function Ms(a){var b=a.childNodes,c=b.length,d=new Cs;for(this.a=new Ks(a);c--;)a=b[c],\"width\"===a.nodeName&&(this.width=d.vf(a))}t(\"H.data.kml.LineStyle\",Ms);function Ns(a){a=a.childNodes;for(var b,c=a.length,d=new Cs;c--;)switch(b=a[c],b.nodeName){case \"bgColor\":this.bgColor=d.tf(b);break;case \"textColor\":this.textColor=d.tf(b);break;case \"text\":this.text=d.Ia(b);break;case \"displayMode\":this.displayMode=d.Ia(b)}}t(\"H.data.kml.BalloonStyle\",Ns);function Os(a){var b=a.childNodes,c=b.length;for(this.id=a.getAttribute(\"id\");c--;)switch(a=b[c],a.nodeName){case \"IconStyle\":this.Hj=a=new Fs(a);break;case \"LineStyle\":this.Sd=a=new Ms(a);break;case \"PolyStyle\":this.tk=a=new Ls(a);break;case \"BalloonStyle\":this.df=a=new Ns(a)}}t(\"H.data.kml.Style\",Os);function Ps(a,b){a=a.childNodes;var c=a.length,d=new Cs;for(this.b=b;c--;)switch(b=a[c],b.nodeName){case \"key\":this.key=d.Ia(b);break;case \"styleUrl\":this.a=d.Ia(b)}}t(\"H.data.kml.Pair\",Ps);Ps.prototype.na=function(){if(this.a){var a=\"highlight\"===this.key?!0:!1;a=this.b.Zg(this.a.substr(1),a)}return a};Ps.prototype.getStyle=Ps.prototype.na;function Qs(a,b){var c=a.childNodes,d=c.length;this.b=b;this.id=a.getAttribute(\"id\");for(this.a=[];d--;)a=c[d],\"Pair\"===a.nodeName&&(a=new Ps(a,this.b),this.a.push(a))}t(\"H.data.kml.StyleMap\",Qs);Qs.prototype.na=function(a){var b=null;a=a?\"highlight\":\"normal\";for(var c=this.a.length;c--;)this.a[c].key===a&&(b=this.a[c].na());return b};Qs.prototype.getStyle=Qs.prototype.na;function Rs(){this.a={}}t(\"H.data.kml.StyleContainer\",Rs);Rs.prototype.vg=function(a){a&&a.id&&(this.a[\"style_\"+a.id]=a)};Rs.prototype.addStyle=Rs.prototype.vg;Rs.prototype.Zg=function(a,b){a=this.a[\"style_\"+a];a instanceof Qs&&(a=a.na(b));return a};Rs.prototype.getStyleById=Rs.prototype.Zg;function Ss(a){a=a.childNodes;for(var b,c=a.length,d=null,e=new Cs;c--;)b=a[c],\"coordinates\"===b.nodeName&&(d=e.Ia(b));this.a=null;d&&(this.a=e.Lh(d)||null)}t(\"H.data.kml.Point\",Ss);function Ts(a,b){var c=a&&a.childNodes||[],d=new Cs;if(!a||!b)throw Error(\"Node or stylesContainer is not defined\");this.visibility=!0;this.g=a;for(a=c.length;a--;){var e=c[a];switch(e.nodeName){case \"name\":this.name=d.Ia(e);break;case \"description\":this.b=d.Ia(e);break;case \"visibility\":this.visibility=d.Cd(e);break;case \"open\":this.open=d.Cd(e);break;case \"styleUrl\":if(this.c=d.Ia(e))e=this.c.substr(1),this.f=b.Zg(e,!1);break;case \"Style\":this.a=e=new Os(e)}}}t(\"H.data.kml.Feature\",Ts);function Us(a){a=a.childNodes;for(var b,c=a.length,d=new Cs;c--;)if(b=a[c],\"coordinates\"===b.nodeName){var e=[],f=new Cs;try{e=f.qk(d.Ia(b))}catch(g){e=[]}this.a=2>e.length?[]:e}}t(\"H.data.kml.Line\",Us);function Vs(a){for(var b=new L,c=a.a?a.a.length:0;c--;)b.md(a.a[c]);return b};function Ws(){}Ws.prototype.f=0;Ws.prototype.b=0;function Xs(a){var b=a.childNodes,c=b.length;this.a=new L;for(this.c=[];c--;){var d=b[c];var e=d.nodeName;if(\"outerBoundaryIs\"===e||\"innerBoundaryIs\"===e){var f=d.childNodes;for(d=f.length;d--;){var g=f[d];if(\"LinearRing\"===g.nodeName){var h=new Us(g);if(\"outerBoundaryIs\"===e){this.a=Vs(h);var k=void 0,l=a,m=h.a;h=new Cs;var n=l.querySelector(\"altitudeMode\");if(n&&n.parentNode===l&&!/^\\s*clampTo/.test(h.Ia(n))&&m){n=m.length;for(var q=0;q<n&&0!==k;q++){var r=m[q].alt;r?k?r!==k&&(k=0):k=r:k=0}(m=l.querySelector(\"*|altitudeOffset\"))&&\nm.parentNode===g&&\"http://www.google.com/kml/ext/2.2\"===m.namespaceURI&&(g=h.vf(m))&&(k+=g);k&&(k=xd(2047,k),(g=l.querySelector(\"extrude\"))&&g.parentNode===l&&h.Cd(g)?this.b=k:this.f=k)}}else this.c.push(Vs(h))}}}}}u(Xs,Ws);t(\"H.data.kml.Polygon\",Xs);function Ys(a,b){var c=document.createElement(\"CANVAS\");c.width=1;c.height=1;this.i=a;this.b={};this.c={};this.f=new Uj(c);this.g=b||\"\"}Ys.prototype.create=function(a){this.a=new Ts(a,this.i);return Zs(this,a)};\nfunction Zs(a,b,c){b=b.childNodes;for(var d=b.length,e,f={},g;d--;){var h=b[d];switch(h.nodeName){case \"Point\":h=new Ss(h);g=$s(a,\"Marker\");if(h=h.a)e=new Jn(h,g),g.Mh&&Fe(g.Mh,\"statechange\",A(a.j,a,g.Mh,e,g),!1);break;case \"LineString\":h=new Us(h);g=$s(a,\"Polyline\");e=new uh(Vs(h),g);break;case \"LinearRing\":h=new Us(h);g=$s(a,\"Polyline\");e=new uh(Vs(h),g);break;case \"Polygon\":h=new Xs(h);g=$s(a,\"Polygon\");g.elevation=h.f;g.extrusion=h.b;e=new vh(new P(h.a,h.c),g);break;case \"MultiGeometry\":e=Zs(a,\nh,new R)}e&&(a.a.name&&(f.name=a.a.name),a.a.b&&(f.description=a.a.b),g&&g.df&&(f.balloonStyle=g.df),f.kmlNode=a.a.g,e.setData(f),c&&c.aa(e))}return c||e}Ys.prototype.j=function(a,b,c){var d=c.anchor,e=c.scale;c=e+\"_\"+d.x+d.y+d.Pc+d.rc+\"_\"+c.href;var f={};if(1===a.getState()){var g=this.b[c];if(!g){var h=d.x;var k=d.y;if(g=a.qb())g={w:g.w*e,h:g.h*e},f.size=g;h=d.Pc&&g?g.w*h:h*e;k=d.rc&&g?g.h*(1-k):!d.rc&&g?g.h-k*e:k*e;f.anchor={x:h,y:k};g=new Uj(a.Jc(),f);this.b[c]=g}b.Ac(g)}delete this.c[c]};\nfunction $s(a,b){var c=a.a,d={visibility:c.visibility};var e=new Gs;var f=1;var g={x:0,y:0,Pc:!1,rc:!1};var h=at(a,c.f);c.a&&(h=at(a,c.a,h));switch(b){case \"Marker\":if(h&&h.Hj){e=h.Hj;e.scale&&(f=e.scale);if(e.a){var k=e.a;g={x:k.x,y:k.y,Pc:k.Pc,rc:k.rc}}e.icon&&e.icon.href?(b=e.icon.href,bt.test(b)||(b=a.g+b),e=f+\"_\"+g.x+g.y+g.Pc+g.rc+\"_\"+b,k=a.b[e]||a.c[e],k||(k=new Uj(b),a.c[e]=k),0===k.getState()?(d.icon=a.f,d.Mh=k,d.href=b,d.anchor=g,d.scale=f):1===k.getState()&&(d.icon=k)):1!==f&&(k||(g={x:14,\ny:4,Pc:!1,rc:!1}),a={w:28*f,h:36*f},f={size:new Ui(a.w,a.h),anchor:new G(g.Pc?a.w*g.x:g.x*f,g.rc?a.h*(1-g.y):a.h-g.y*f),hitArea:new Vi(Wi.POLYGON,[0*f,16*f,0*f,7*f,8*f,0*f,18*f,0*f,26*f,7*f,26*f,16*f,18*f,34*f,8*f,34*f])},d.icon=new Uj('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28px\" height=\"36px\"><path d=\"M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z\" fill=\"#000\" fill-opacity=\".2\"/><path d=\"M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z\" fill=\"#fff\"/><path d=\"M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z\" fill=\"#18d\"/></svg>',\nf))}break;case \"Polyline\":d.style={};h&&h.Sd&&(f=h.Sd,d.style.strokeColor=\"rgba(\"+Js(e,f.a.a,!0)+\")\",0<=f.width&&(d.style.lineWidth=f.width));break;case \"Polygon\":d.style={},h&&(h.Sd&&(f=h.Sd,d.style.strokeColor=\"rgba(\"+Js(e,f.a.a,!0)+\")\",0<=f.width&&(d.style.lineWidth=f.width)),h.tk&&(f=h.tk,d.style.fillColor=f.fill?\"rgba(\"+Js(e,f.b.a,!0)+\")\":\"rgba(0,0,0,0)\",f.a||(d.style.lineWidth=0)))}d.df=h.df;return d}\nfunction at(a,b,c){c=c||{};for(var d in b)b.hasOwnProperty(d)&&(c[d]=\"object\"===typeof b[d]?at(a,b[d],c[d]):b[d]);return c}var bt=/^[^:\\/]+:/;function ct(a){wc(this,ct);this.url=a;this.b=[];this.a=y;this.c=A(this.c,this);F.call(this)}u(ct,F);t(\"H.data.AbstractReader\",ct);var dt={ERROR:-1,LOADING:0,VISIT:1,READY:2};ct.State=dt;ct.prototype.f=dt.READY;ct.prototype.A={hl:\"statechange\"};ct.prototype.hb=function(){if(!this.a){this.a=new N;var a=this.a.Ub();a.Qb(this.b)}return new rl(this.a)};ct.prototype.getLayer=ct.prototype.hb;ct.prototype.vm=function(){return this.b.concat([])};ct.prototype.getParsedObjects=ct.prototype.vm;\nct.prototype.D=function(){return this.url};ct.prototype.getUrl=ct.prototype.D;ct.prototype.co=function(a){if(this.f===dt.LOADING||this.f===dt.VISIT)throw Error(\"InvalidState: state \"+this.f);this.b=[];this.a=y;this.url=a;return this};ct.prototype.setUrl=ct.prototype.co;ct.prototype.getState=function(){return this.f};ct.prototype.getState=ct.prototype.getState;ct.prototype.O=function(a,b,c){this.f=a;this.dispatchEvent(new et(b||this,this.A.hl,a,c||\"\"))};\nct.prototype.parse=function(){var a=this;vc(this.url)?(this.O(dt.LOADING),(new uf(\"text/plain\",this.url)).then(function(b){try{a.c(b)}catch(c){a.O(dt.ERROR,y,c.message)}},function(){a.O(dt.ERROR,y,\"Error loading file\")})):a.O(dt.ERROR,y,\"File url was not set\")};ct.prototype.parse=ct.prototype.parse;function et(a,b,c,d){et.l.constructor.call(this,b,a);this.state=c;this.message=d}u(et,td);ct.Event=et;function ft(a){var b=a?a.lastIndexOf(\"/\"):-1;this.g=[];ct.call(this,a);0<=b&&(this.i=a.substr(0,b)+\"/\")}u(ft,ct);t(\"H.data.kml.Reader\",ft);\nft.prototype.c=function(a){var b,c=null;if(Bc(a)&&\"\"!=a.trim()){try{var d=(new DOMParser).parseFromString(a,\"text/xml\")}catch(h){this.O(dt.ERROR,y,\"Error parsing KML document\");return}if(d.getElementsByTagName(\"parsererror\").length)this.O(dt.ERROR,y,\"Error parsing KML document\");else if((a=d.childNodes&&\"kml\"===d.childNodes[0].nodeName?d.childNodes[0]:void 0)&&(b=gt(a.childNodes,\"Document\")[0]),b=b||a){d=new Rs;for(var e=gt(b.childNodes,\"Style\"),f=gt(b.childNodes,\"StyleMap\"),g=e.length;g--;)a=new Os(e[g]),\nd.vg(a);for(g=f.length;g--;)a=new Qs(f[g],d),d.vg(a);this.j=new Ys(d,this.i);a=b.childNodes;for(b=a.length;b--;)if(e=a[b],d=c,\"Placemark\"===e.nodeName?(e=this.j.create(e))&&ht(this,e,d):\"Folder\"===e.nodeName&&(e={group:new R,node:e},ht(this,e.group,d),this.g.push(e)),!b&&(d=this.g.shift()))a=d.node.childNodes,c=d.group,b=a.length;this.O(dt.READY)}else this.O(dt.ERROR,y,\"Invalid KML document\")}else this.O(dt.ERROR,y,\"Unable to create objects from the empty data\")};\nfunction ht(a,b,c){c?c.aa(b):(a.a&&a.a.Ub().aa(b),a.b.push(b),a.O(dt.VISIT,b))}function gt(a,b){for(var c=a.length,d,e=[];c--;)d=a[c],d.nodeName===b&&e.push(d);return e};function it(a,b){this.b=a;this.a=b}\nit.prototype.create=function(a,b){var c=a.coordinates;switch(a.type){case \"Point\":var d=new Jn(jt(c));break;case \"LineString\":d=new uh(kt(c));break;case \"Polygon\":d=new vh(lt(c));break;case \"MultiPoint\":var e=0;var f=c.length;d=[];if(this.a){for(;e<f;e++)d.push(jt(c[e]));c=new Jn(new Ti(d))}else{for(;e<f;e++)d.push(new Jn(jt(c[e])));c=new R;c.Qb(d)}d=c;f=\"multiPoint\";break;case \"MultiLineString\":e=0;f=c.length;d=[];if(this.a){for(;e<f;e++)d.push(kt(c[e]));c=new uh(new jh(d))}else{for(;e<f;e++)d.push(new uh(kt(c[e])));\nc=new R;c.Qb(d)}d=c;f=\"multiLineString\";break;case \"MultiPolygon\":d=[];e=0;f=c.length;if(this.a){for(;e<f;e++)d.push(lt(c[e]));c=new vh(new Gi(d))}else{for(;e<f;e++)d.push(new vh(lt(c[e])));c=new R;c.Qb(d)}d=c;f=\"multiPolygon\";break;case \"GeometryCollection\":c=d=new R;e=a.geometries;f=0;for(var g=e.length;f<g;f++)this.create(e[f],c);f=\"geometryCollection\"}d&&(c=d,e=a.properties,a=a.id,g={},e&&(this.a?g=e:g.properties=e),f&&!this.a&&(g[f]=!0),a&&c.ki(a),c.setData(g),this.b(d));b&&d&&b.aa(d);return d};\nit.prototype.create=it.prototype.create;function jt(a){return new mg(a[1],a[0])}function lt(a){for(var b=kt(a[0]),c=[],d,e=1,f=a.length;e<f;e++)d=kt(a[e]),c.push(d);return new P(b,c)}function kt(a){for(var b=0,c=a.length,d=new L;b<c;b++)d.md(jt(a[b]));return d};function mt(a,b){b=b||{};this.i=b.style||this.zd;(this.g=!!b.disableLegacyMode)||window.console.warn(\"H.data.geojson.Reader: Legacy parser is enabled in GeoJSON Reader. Features like Multi-Geometries, Polygon interiors and GeoJSON feature properties might not work as expected. To maximise compatibility with the remote services it is recommended to set the `disableLegacyMode` flag to true.\");ct.call(this,a)}u(mt,ct);t(\"H.data.geojson.Reader\",mt);\nmt.prototype.c=function(a){var b,c;try{var d=\"string\"===typeof a?JSON.parse(a):a;if(\"object\"===typeof d){var e=new it(this.i,this.g);switch(d.type){case \"FeatureCollection\":if(b=d.features){var f=new R;nt(this,f);for(c=0;c<b.length;c++){var g=ot(b[c]);(g=e.create(g))&&f.aa(g)}}break;case \"Feature\":g=ot(d);(g=e.create(g))&&nt(this,g);break;default:(g=e.create(d))&&nt(this,g)}this.O(dt.READY)}else this.O(dt.ERROR,y,\"Invalid syntax\")}catch(h){this.O(dt.ERROR,y,\"Parse error. \"+h.message)}};\nmt.prototype.On=function(a){this.O(dt.LOADING);this.c(a)};mt.prototype.parseData=mt.prototype.On;mt.prototype.zd=function(){};function ot(a){var b={};if(a.geometry){var c=a.geometry;b.type=c.type;b.properties=a.properties;c.coordinates&&(b.coordinates=c.coordinates);c.geometries&&(b.geometries=c.geometries);a.id&&(b.id=a.id)}return b}function nt(a,b){a.a&&a.a.Ub().aa(b);a.b.push(b);a.O(dt.VISIT,b)};t(\"H.data.buildInfo\",function(){return If(\"H-data\",\"1.777.7777\",\"093b469\",{region:\"row\"})});\n");